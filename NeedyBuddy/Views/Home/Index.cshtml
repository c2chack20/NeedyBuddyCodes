@model IEnumerable<NeedyBuddy.Data.Model.ServiceCategory>
@{
    ViewData["Title"] = "Home Page";
}

    <script type="text/javascript">

        var count = '@Model.Count()';
        var preViousValue;
        if (count >0) {
             preViousValue = "@Model.Take(3).FirstOrDefault().ServiceCategoryId";
        }

        
        function GetSelectedTextValue(listbox) {

        document.getElementById(preViousValue.trim()).checked = false;
        var selectedText = listbox.options[listbox.selectedIndex].innerHTML;
        var selectedValue = listbox.value;
        //alert("Selected Text: " + selectedText + " Value: " + selectedValue);
        document.getElementById(selectedText.trim()).checked = true;
        preViousValue = selectedText.trim();
    }
    function getValue(value) {
        //alert(value);
        listbox.selectedIndex = value - 1;
    }

    </script>
<!-- Header Section end -->
<!-- Hero Section end -->
<section class="hero-section set-bg" data-setbg="~/img/hero-bg.jpg">
    <div class="container">
        <div class="hero-warp">
            <form class="main-search-form" asp-action="MyAction">

                @*******************************Populating the radio button for service category menu**********@
                <div class="search-type">
                    @{
                        var isFirstChecked = false;
                    }
                    @foreach (var item in Model.Take(3))
                    {
                        <div class="st-item">
                            <input @(isFirstChecked ? "" : "checked") type="radio" name="st" id="@item.ServiceName" value="@item.ServiceCategoryId" onchange="getValue(this.value)">
                            <label for="@item.ServiceName" id="@item.ServiceCategoryId">@item.ServiceName</label>
                        </div>
                        isFirstChecked = true;
                    }


                </div>
                <div class="search-input">
                    <input type="text" placeholder="Search by state, postcode or suburb" name="searchtext" id="searchtext">
                    @*************Populating the dropdown List**********@

                    <select name="listbox" id="listbox" onchange="GetSelectedTextValue(this)">
                        @foreach (var item in Model)
                        {
                            <option value="@item.ServiceCategoryId">
                                @item.ServiceName
                            </option>
                        }
                    </select>

                    @********************************@
                    <button class="site-btn">Search</button>
                    @*<input type="submit" value="Create" class="site-btn" />*@

                </div>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. </p>
            </form>
        </div>
    </div>
</section>
<!-- Hero Section end -->
<!-- Stories Section end -->
<section class="stories-section spad">
    <div class="container">
        <div class="row ">
            @*<div class="col-lg-5 order-lg-2">
                <img class="w-100" src="~/img/about/3.jpg" alt="">
            </div>*@
            <div class="col-lg-7 order-lg-1">
                <div class="about-text">
                    <h2><u>Success Stories</u></h2>
                    <h4>What the world can learn from Kerala about how to fight covid-19</h4><br />
                    <p>The sun had already set on March 7 when Nooh Pullichalil Bava received the call. “I have bad news,” his boss warned. On February 29, a family of three had arrived in the Indian state of Kerala from Italy, where they lived. The trio skipped a voluntary screening for covid-19 at the airport and took a taxi 125 miles (200 kilometers) to their home in the town of Ranni. When they started developing symptoms soon afterward, they didn’t alert the hospital. Now, a whole week after taking off from Venice, all three—a middle-­aged man and woman and their adult son—had tested positive for the virus, and so had two of their elderly relatives. </p>
                    <a href="#" class="readmore-btn">Find out more</a>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Stories Section end -->